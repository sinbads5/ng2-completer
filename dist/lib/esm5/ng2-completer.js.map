{"version":3,"file":"ng2-completer.js","sources":["../../../src/globals.ts","../../../src/services/completer-base-data.ts","../../../src/services/local-data.ts","../../../src/services/remote-data.ts","../../../src/services/local-data-factory.ts","../../../src/services/remote-data-factory.ts","../../../src/services/completer-service.ts","../../../src/directives/ctr-completer.ts","../../../src/directives/ctr-dropdown.ts","../../../src/directives/ctr-input.ts","../../../src/directives/ctr-list.ts","../../../src/directives/ctr-row.ts","../../../src/components/completer-list-item-cmp.ts","../../../src/components/completer-cmp.ts","../../../src/modules/ng2-completer.module.ts"],"sourcesContent":["\r\nexport const MAX_CHARS = 524288;  // the default max length per the html maxlength attribute\r\nexport const MIN_SEARCH_LENGTH = 3;\r\nexport const PAUSE = 10;\r\nexport const TEXT_SEARCHING = \"Searching...\";\r\nexport const TEXT_NO_RESULTS = \"No results found\";\r\nexport const CLEAR_TIMEOUT = 50;\r\n\r\nexport function isNil(value: any) {\r\n    return typeof value === \"undefined\" || value === null;\r\n}\r\n","import { Subject } from \"rxjs\";\r\n\r\nimport { CompleterItem } from \"../components/completer-item\";\r\nimport { CompleterData } from \"./completer-data\";\r\nimport { isNil } from \"../globals\";\r\n\r\nexport abstract class CompleterBaseData extends Subject<CompleterItem[] | null> implements CompleterData {\r\n\r\n    protected _searchFields: string | null = null;\r\n    protected _titleField: string | null = null;\r\n    protected _descriptionField: string | undefined = undefined;\r\n    protected _imageField: string | undefined = undefined;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public abstract search(term: string): void;\r\n\r\n    public cancel() {\r\n        return;\r\n    }\r\n\r\n    public searchFields(searchFields: string | null) {\r\n        this._searchFields = searchFields;\r\n        return this;\r\n    }\r\n\r\n    public titleField(titleField: string | null) {\r\n        this._titleField = titleField;\r\n        return this;\r\n    }\r\n\r\n    public descriptionField(descriptionField: string) {\r\n        this._descriptionField = descriptionField;\r\n        return this;\r\n    }\r\n\r\n    public imageField(imageField: string) {\r\n        this._imageField = imageField;\r\n        return this;\r\n    }\r\n\r\n    public convertToItem(data: any) {\r\n        let image: string | null = null;\r\n        let formattedText: string;\r\n        let formattedDesc: string | null = null;\r\n\r\n        if (this._titleField) {\r\n            formattedText = this.extractTitle(data);\r\n        } else {\r\n            formattedText = data;\r\n        }\r\n\r\n        if (typeof formattedText !== \"string\") {\r\n            formattedText = JSON.stringify(formattedText);\r\n        }\r\n\r\n        if (this._descriptionField) {\r\n            formattedDesc = this.extractValue(data, this._descriptionField);\r\n        }\r\n\r\n        if (this._imageField) {\r\n            image = this.extractValue(data, this._imageField);\r\n        }\r\n\r\n        if (isNil(formattedText)) {\r\n            return null;\r\n        }\r\n\r\n        return {\r\n            description: formattedDesc,\r\n            image,\r\n            originalObject: data,\r\n            title: formattedText\r\n        } as CompleterItem;\r\n\r\n    }\r\n\r\n    protected extractMatches(data: any[], term: string) {\r\n        let matches: any[] = [];\r\n        const searchFields = this._searchFields ? this._searchFields.split(\",\") : null;\r\n        if (this._searchFields !== null && this._searchFields !== undefined && term !== \"\") {\r\n            matches = data.filter((item) => {\r\n                const values: any[] = searchFields ? this.extractBySearchFields(searchFields, item) : [item];\r\n                return values.some((value) => value\r\n                    .toString()\r\n                    .toLowerCase()\r\n                    .indexOf(term.toString().toLowerCase()) >= 0\r\n                );\r\n            });\r\n        } else {\r\n            matches = data;\r\n        }\r\n\r\n        return matches;\r\n    }\r\n\r\n    protected extractTitle(item: any) {\r\n        // split title fields and run extractValue for each and join with ' '\r\n        if (!this._titleField) {\r\n            return \"\";\r\n        }\r\n\r\n        return this._titleField.split(\",\")\r\n            .map((field) => {\r\n                return this.extractValue(item, field);\r\n            })\r\n            .reduce((acc, titlePart) => acc ? `${acc} ${titlePart}` : titlePart);\r\n    }\r\n\r\n    protected extractValue(obj: any, key: string | null) {\r\n        let keys: string[];\r\n        let result: any;\r\n        if (key) {\r\n            keys = key.split(\".\");\r\n            result = obj;\r\n            for (key of keys) {\r\n                if (result) {\r\n                    result = result[key];\r\n                }\r\n            }\r\n        } else {\r\n            result = obj;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    protected processResults(matches: string[]): CompleterItem[] {\r\n        let i: number;\r\n        const results: CompleterItem[] = [];\r\n\r\n        if (matches && matches.length > 0) {\r\n            for (i = 0; i < matches.length; i++) {\r\n                const item = this.convertToItem(matches[i]);\r\n                if (item) {\r\n                    results.push(item);\r\n                }\r\n            }\r\n        }\r\n        return results;\r\n    }\r\n\r\n    private extractBySearchFields(searchFields: string[], item: any) {\r\n        return searchFields\r\n            .map((searchField) => this.extractValue(item, searchField)).filter((value) => !!value);\r\n    }\r\n}\r\n","import { EventEmitter } from \"@angular/core\";\r\nimport { Observable } from \"rxjs\";\r\nimport { catchError } from \"rxjs/operators\";\r\n\r\nimport { CompleterBaseData } from \"./completer-base-data\";\r\nimport { CompleterItem } from \"../components/completer-item\";\r\n\r\nexport class LocalData extends CompleterBaseData {\r\n\r\n    public dataSourceChange: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n    protected _data: any[] = [];\r\n    protected savedTerm: string | null = null;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public data(data: any[] | Observable<any[]>) {\r\n        if (data instanceof Observable) {\r\n            const data$ = data as Observable<any[]>;\r\n            data$\r\n                .pipe(catchError(() => []))\r\n                .subscribe((res) => {\r\n                    this._data = res;\r\n                    if (this.savedTerm) {\r\n                        this.search(this.savedTerm);\r\n                    }\r\n                    this.dataSourceChange.emit();\r\n                });\r\n        } else {\r\n            this._data = data;\r\n        }\r\n\r\n        this.dataSourceChange.emit();\r\n\r\n        return this;\r\n    }\r\n\r\n    public search(term: string): void {\r\n        if (!this._data) {\r\n            this.savedTerm = term;\r\n        } else {\r\n            this.savedTerm = null;\r\n            const matches: any[] = this.extractMatches(this._data, term);\r\n            this.next(this.processResults(matches));\r\n        }\r\n    }\r\n\r\n    public convertToItem(data: any): CompleterItem | null {\r\n        return super.convertToItem(data);\r\n    }\r\n}\r\n","import { EventEmitter } from \"@angular/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { catchError, map } from \"rxjs/operators\";\r\n\r\nimport { CompleterBaseData } from \"./completer-base-data\";\r\nimport { CompleterItem } from \"../components/completer-item\";\r\n\r\nexport class RemoteData extends CompleterBaseData {\r\n    public dataSourceChange: EventEmitter<void> = new EventEmitter<void>();\r\n\r\n    private _remoteUrl: string | null = null;\r\n    private remoteSearch: Subscription | null = null;\r\n    private _urlFormater: ((term: string) => string) | null = null;\r\n    private _dataField: string | null = null;\r\n    private _requestOptions: any;\r\n\r\n    constructor(private http: HttpClient) {\r\n        super();\r\n    }\r\n\r\n    public remoteUrl(remoteUrl: string | null) {\r\n        this._remoteUrl = remoteUrl;\r\n        this.dataSourceChange.emit();\r\n\r\n        return this;\r\n    }\r\n\r\n    public urlFormater(urlFormater: (term: string) => string) {\r\n        this._urlFormater = urlFormater;\r\n    }\r\n\r\n    public dataField(dataField: string) {\r\n        this._dataField = dataField;\r\n    }\r\n\r\n    public requestOptions(requestOptions: any) {\r\n        this._requestOptions = requestOptions;\r\n    }\r\n\r\n    public search(term: string): void {\r\n        this.cancel();\r\n        // let params = {};\r\n        let url = \"\";\r\n        if (this._urlFormater) {\r\n            url = this._urlFormater(term);\r\n        } else {\r\n            url = this._remoteUrl + encodeURIComponent(term);\r\n        }\r\n\r\n        this.remoteSearch = this.http\r\n            .get(url, Object.assign({}, this._requestOptions))\r\n            .pipe(\r\n                map((data: any) => {\r\n                    const matches = this.extractValue(data, this._dataField);\r\n                    return this.extractMatches(matches, term);\r\n                }),\r\n                catchError(() => [])\r\n            )\r\n            .subscribe((matches: any[]) => {\r\n                const results = this.processResults(matches);\r\n                this.next(results);\r\n            });\r\n    }\r\n\r\n    public cancel() {\r\n        if (this.remoteSearch) {\r\n            this.remoteSearch.unsubscribe();\r\n        }\r\n    }\r\n\r\n    public convertToItem(data: any): CompleterItem | null {\r\n        return super.convertToItem(data);\r\n    }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\n\r\nimport { LocalData } from \"./local-data\";\r\n\r\n@Injectable()\r\nexport class LocalDataFactory {\r\n    public create() {\r\n        return new LocalData();\r\n    }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\n\r\nimport { HttpClient } from \"@angular/common/http\";\r\n\r\nimport { RemoteData } from \"./remote-data\";\r\n\r\n@Injectable()\r\nexport class RemoteDataFactory {\r\n    constructor(private http: HttpClient) { }\r\n\r\n    public create() {\r\n        return new RemoteData(this.http);\r\n    }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs\";\r\n\r\nimport { LocalData } from \"./local-data\";\r\nimport { RemoteData } from \"./remote-data\";\r\nimport { LocalDataFactory } from \"./local-data-factory\";\r\nimport { RemoteDataFactory } from \"./remote-data-factory\";\r\n\r\n@Injectable()\r\nexport class CompleterService {\r\n    constructor(\r\n        private localDataFactory: LocalDataFactory, // Using any instead of () => LocalData because of AoT errors\r\n        private remoteDataFactory: RemoteDataFactory // Using any instead of () => LocalData because of AoT errors\r\n    ) { }\r\n\r\n    public local(\r\n        data: any[] | Observable<any>,\r\n        searchFields: string | null = \"\",\r\n        titleField: string | null = \"\"\r\n    ): LocalData {\r\n\r\n        const localData = this.localDataFactory.create();\r\n        return localData\r\n            .data(data)\r\n            .searchFields(searchFields)\r\n            .titleField(titleField);\r\n    }\r\n\r\n    public remote(url: string | null, searchFields: string | null = \"\", titleField: string | null = \"\"): RemoteData {\r\n\r\n        const remoteData = this.remoteDataFactory.create();\r\n        return remoteData\r\n            .remoteUrl(url)\r\n            .searchFields(searchFields)\r\n            .titleField(titleField);\r\n    }\r\n}\r\n","import { Directive, EventEmitter, Output } from \"@angular/core\";\r\n\r\nimport { CompleterItem } from \"../components/completer-item\";\r\n\r\nexport interface CompleterList {\r\n    search(term: string): void;\r\n    open(): void;\r\n    isOpen(open: boolean): void;\r\n    clear(): void;\r\n}\r\n\r\nexport interface CompleterDropdown {\r\n    clear(): void;\r\n    selectCurrent(): void;\r\n    nextRow(): void;\r\n    prevRow(): void;\r\n    highlightRow(index: number | null): void;\r\n}\r\n\r\n@Directive({\r\n    selector: \"[ctrCompleter]\",\r\n})\r\nexport class CtrCompleter {\r\n    @Output() public selected = new EventEmitter<CompleterItem | null>();\r\n    @Output() public highlighted = new EventEmitter<CompleterItem | null>();\r\n    @Output() public opened = new EventEmitter<boolean>();\r\n    @Output() public dataSourceChange = new EventEmitter<void>();\r\n\r\n    private list: CompleterList | null = null;\r\n    private dropdown: CompleterDropdown | null = null;\r\n    private _hasHighlighted = false;\r\n    private _hasSelected = false;\r\n    private _cancelBlur = false;\r\n    private _isOpen = false;\r\n    private _autoHighlightIndex: number | null = null;\r\n\r\n    public registerList(list: CompleterList) {\r\n        this.list = list;\r\n    }\r\n\r\n    public registerDropdown(dropdown: CompleterDropdown | null) {\r\n        this.dropdown = dropdown;\r\n    }\r\n\r\n    public onHighlighted(item: CompleterItem | null) {\r\n        this.highlighted.emit(item);\r\n        this._hasHighlighted = !!item;\r\n    }\r\n\r\n    public onSelected(item: CompleterItem | null, clearList = true) {\r\n        this.selected.emit(item);\r\n        if (item) {\r\n            this._hasSelected = true;\r\n        }\r\n        if (clearList) {\r\n            this.clear();\r\n        }\r\n    }\r\n\r\n    public onDataSourceChange() {\r\n        if (this.hasSelected) {\r\n            this.selected.emit(null);\r\n            this._hasSelected = false;\r\n        }\r\n        this.dataSourceChange.emit();\r\n    }\r\n\r\n    public search(term: string) {\r\n        if (this._hasSelected) {\r\n            this.selected.emit(null);\r\n            this._hasSelected = false;\r\n        }\r\n        if (this.list) {\r\n            this.list.search(term);\r\n        }\r\n    }\r\n\r\n    public clear() {\r\n        this._hasHighlighted = false;\r\n        this.isOpen = false;\r\n\r\n        if (this.dropdown) {\r\n            this.dropdown.clear();\r\n        }\r\n\r\n        if (this.list) {\r\n            this.list.clear();\r\n        }\r\n    }\r\n\r\n    public selectCurrent() {\r\n        if (this.dropdown) {\r\n            this.dropdown.selectCurrent();\r\n        }\r\n    }\r\n\r\n    public nextRow() {\r\n        if (this.dropdown) {\r\n            this.dropdown.nextRow();\r\n        }\r\n    }\r\n\r\n    public prevRow() {\r\n        if (this.dropdown) {\r\n            this.dropdown.prevRow();\r\n        }\r\n    }\r\n\r\n    public hasHighlighted() {\r\n        return this._hasHighlighted;\r\n    }\r\n\r\n    public cancelBlur(cancel: boolean) {\r\n        this._cancelBlur = cancel;\r\n    }\r\n\r\n    public isCancelBlur() {\r\n        return this._cancelBlur;\r\n    }\r\n\r\n    public open() {\r\n        if (!this._isOpen && !!this.list) {\r\n            this.isOpen = true;\r\n            this.list.open();\r\n        }\r\n    }\r\n\r\n    public get isOpen() {\r\n        return this._isOpen;\r\n    }\r\n\r\n    public set isOpen(open: boolean) {\r\n        this._isOpen = open;\r\n        this.opened.emit(this._isOpen);\r\n        if (this.list) {\r\n            this.list.isOpen(open);\r\n        }\r\n    }\r\n\r\n    public get autoHighlightIndex() {\r\n        return this._autoHighlightIndex;\r\n    }\r\n\r\n    public set autoHighlightIndex(index: number | null) {\r\n        this._autoHighlightIndex = index;\r\n        if (this.dropdown) {\r\n            this.dropdown.highlightRow(this._autoHighlightIndex);\r\n        }\r\n    }\r\n\r\n    public get hasSelected() {\r\n        return this._hasSelected;\r\n    }\r\n}\r\n","import { AfterViewInit, Directive, ElementRef, Host, HostListener, OnDestroy, NgZone } from \"@angular/core\";\r\n\r\nimport { CompleterItem } from \"../components/completer-item\";\r\nimport { CtrCompleter, CompleterDropdown } from \"./ctr-completer\";\r\nimport { isNil } from \"../globals\";\r\n\r\nexport interface CtrRowElement {\r\n    setHighlighted(selected: boolean): void;\r\n    getNativeElement(): any;\r\n    getDataItem(): CompleterItem | null;\r\n}\r\n\r\nexport class CtrRowItem {\r\n    constructor(public row: CtrRowElement, public index: number) { }\r\n}\r\n\r\n@Directive({\r\n    selector: \"[ctrDropdown]\",\r\n})\r\nexport class CtrDropdown implements CompleterDropdown, OnDestroy, AfterViewInit {\r\n\r\n    private rows: CtrRowItem[] = [];\r\n    private currHighlighted: CtrRowItem | undefined;\r\n    private isScrollOn: boolean = false;\r\n    private _rowMouseDown: boolean = false;\r\n\r\n    constructor( @Host() private completer: CtrCompleter, private el: ElementRef, private zone: NgZone) {\r\n        this.completer.registerDropdown(this);\r\n    }\r\n\r\n    public ngOnDestroy() {\r\n        this.completer.registerDropdown(null);\r\n    }\r\n\r\n    public ngAfterViewInit() {\r\n        const css = getComputedStyle(this.el.nativeElement);\r\n        const autoHighlightIndex = this.completer.autoHighlightIndex;\r\n\r\n        this.isScrollOn = !!css.maxHeight && css.overflowY === \"auto\";\r\n        if (autoHighlightIndex) {\r\n            this.zone.run(\r\n                () => {\r\n                    this.highlightRow(autoHighlightIndex);\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    @HostListener(\"mousedown\", [\"$event\"]) public onMouseDown(event: any) {\r\n        // Support for canceling blur on IE (issue #158)\r\n        if (!this._rowMouseDown) {\r\n            this.completer.cancelBlur(true);\r\n            this.zone.run(\r\n                () => {\r\n                    this.completer.cancelBlur(false);\r\n                }\r\n            );\r\n        } else {\r\n            this._rowMouseDown = false;\r\n        }\r\n    }\r\n\r\n    public registerRow(row: CtrRowItem) {\r\n        const arrIndex = this.rows.findIndex(_row => _row.index === row.index);\r\n        if (arrIndex >= 0) {\r\n            this.rows[arrIndex] = row;\r\n        } else {\r\n            this.rows.push(row);\r\n        }\r\n    }\r\n\r\n    public unregisterRow(rowIndex: number) {\r\n        const arrIndex = this.rows.findIndex(_row => _row.index === rowIndex);\r\n        this.rows.splice(arrIndex, 1);\r\n        if (this.currHighlighted && rowIndex === this.currHighlighted.index) {\r\n            this.highlightRow(null);\r\n        }\r\n    }\r\n\r\n    public highlightRow(index: number | null) {\r\n        const highlighted = this.rows.find(row => row.index === index);\r\n\r\n        if (isNil(index) || index! < 0) {\r\n            if (this.currHighlighted) {\r\n                this.currHighlighted.row.setHighlighted(false);\r\n            }\r\n            this.currHighlighted = undefined;\r\n            this.completer.onHighlighted(null);\r\n            return;\r\n        }\r\n\r\n        if (!highlighted) {\r\n            return;\r\n        }\r\n\r\n        if (this.currHighlighted) {\r\n            this.currHighlighted.row.setHighlighted(false);\r\n        }\r\n\r\n        this.currHighlighted = highlighted;\r\n        this.currHighlighted.row.setHighlighted(true);\r\n        this.completer.onHighlighted(this.currHighlighted.row.getDataItem());\r\n\r\n        if (this.isScrollOn && this.currHighlighted) {\r\n            const rowTop = this.dropdownRowTop();\r\n\r\n            if (!rowTop) {\r\n                return;\r\n            }\r\n\r\n            if (rowTop < 0) {\r\n                this.dropdownScrollTopTo(rowTop - 1);\r\n            } else {\r\n                const row = this.currHighlighted.row.getNativeElement();\r\n                if (this.dropdownHeight() < row.getBoundingClientRect().bottom) {\r\n                    this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(row));\r\n                    if (this.el.nativeElement.getBoundingClientRect().bottom - this.dropdownRowOffsetHeight(row) < row.getBoundingClientRect().top) {\r\n                        this.dropdownScrollTopTo(row.getBoundingClientRect().top - (this.el.nativeElement.getBoundingClientRect().top + parseInt(getComputedStyle(this.el.nativeElement).paddingTop as string, 10)));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public clear() {\r\n        this.rows = [];\r\n    }\r\n\r\n    public onSelected(item: CompleterItem | null) {\r\n        this.completer.onSelected(item);\r\n    }\r\n\r\n    public rowMouseDown() {\r\n        this._rowMouseDown = true;\r\n    }\r\n\r\n    public selectCurrent() {\r\n        if (!!this.currHighlighted && !!this.currHighlighted.row) {\r\n            this.onSelected(this.currHighlighted.row.getDataItem());\r\n        } else if (this.rows.length > 0) {\r\n            this.onSelected(this.rows[0].row.getDataItem());\r\n        }\r\n\r\n    }\r\n\r\n    public nextRow() {\r\n        let nextRowIndex = 0;\r\n\r\n        if (this.currHighlighted) {\r\n            nextRowIndex = this.currHighlighted.index + 1;\r\n        }\r\n\r\n        this.highlightRow(nextRowIndex);\r\n    }\r\n\r\n    public prevRow() {\r\n        let nextRowIndex = -1;\r\n\r\n        if (this.currHighlighted) {\r\n            nextRowIndex = this.currHighlighted.index - 1;\r\n        }\r\n\r\n        this.highlightRow(nextRowIndex);\r\n    }\r\n\r\n    private dropdownScrollTopTo(offset: any) {\r\n        this.el.nativeElement.scrollTop = this.el.nativeElement.scrollTop + offset;\r\n    }\r\n\r\n    private dropdownRowTop() {\r\n        if (!this.currHighlighted) {\r\n            return;\r\n        }\r\n\r\n        return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top -\r\n            (this.el.nativeElement.getBoundingClientRect().top +\r\n                parseInt(getComputedStyle(this.el.nativeElement).paddingTop as string, 10));\r\n    }\r\n\r\n    private dropdownHeight() {\r\n        return this.el.nativeElement.getBoundingClientRect().top +\r\n            parseInt(getComputedStyle(this.el.nativeElement).maxHeight as string, 10);\r\n    }\r\n\r\n    private dropdownRowOffsetHeight(row: any) {\r\n        let css = getComputedStyle(row.parentElement);\r\n        return row.parentElement.offsetHeight +\r\n            parseInt(css.marginTop as string, 10) + parseInt(css.marginBottom as string, 10);\r\n    }\r\n}\r\n","import { Directive, ElementRef, EventEmitter, Host, HostListener, Input, Output } from \"@angular/core\";\r\nimport { NgModel } from \"@angular/forms\";\r\nimport { Subscription, timer } from \"rxjs\";\r\nimport { take } from \"rxjs/operators\";\r\n\r\nimport { CompleterItem } from \"../components/completer-item\";\r\nimport { CtrCompleter } from \"./ctr-completer\";\r\nimport { isNil } from \"../globals\";\r\n\r\n\r\n// keyboard events\r\nconst KEY_DW = 40;\r\nconst KEY_RT = 39;\r\nconst KEY_UP = 38;\r\nconst KEY_LF = 37;\r\nconst KEY_ES = 27;\r\nconst KEY_EN = 13;\r\nconst KEY_TAB = 9;\r\nconst KEY_BK = 8;\r\nconst KEY_SH = 16;\r\nconst KEY_CL = 20;\r\nconst KEY_F1 = 112;\r\nconst KEY_F12 = 123;\r\n\r\n@Directive({\r\n    selector: \"[ctrInput]\",\r\n})\r\nexport class CtrInput {\r\n    @Input(\"clearSelected\") public clearSelected = false;\r\n    @Input(\"clearUnselected\") public clearUnselected = false;\r\n    @Input(\"overrideSuggested\") public overrideSuggested = false;\r\n    @Input(\"fillHighlighted\") public fillHighlighted = true;\r\n    @Input(\"openOnFocus\") public openOnFocus = false;\r\n    @Input(\"openOnClick\") public openOnClick = false;\r\n    @Input(\"selectOnClick\") public selectOnClick = false;\r\n    @Input(\"selectOnFocus\") public selectOnFocus = false;\r\n\r\n    @Output() public ngModelChange: EventEmitter<any> = new EventEmitter();\r\n\r\n    private _searchStr = \"\";\r\n    private _displayStr = \"\";\r\n    private blurTimer: Subscription | null = null;\r\n\r\n    constructor( @Host() private completer: CtrCompleter, private ngModel: NgModel, private el: ElementRef) {\r\n        this.completer.selected.subscribe((item: CompleterItem) => {\r\n            if (!item) {\r\n                return;\r\n            }\r\n            if (this.clearSelected) {\r\n                this.searchStr = \"\";\r\n            } else {\r\n                this.searchStr = item.title;\r\n            }\r\n            this.ngModelChange.emit(this.searchStr);\r\n        });\r\n\r\n        this.completer.highlighted.subscribe((item: CompleterItem) => {\r\n            if (this.fillHighlighted) {\r\n                if (item) {\r\n                    this._displayStr = item.title;\r\n                    this.ngModelChange.emit(item.title);\r\n                } else {\r\n                    this._displayStr = this.searchStr;\r\n                    this.ngModelChange.emit(this.searchStr);\r\n                }\r\n            }\r\n        });\r\n\r\n        this.completer.dataSourceChange.subscribe(() => {\r\n            this.completer.search(this.searchStr);\r\n        });\r\n\r\n        if (this.ngModel.valueChanges) {\r\n            this.ngModel.valueChanges.subscribe((value: any) => {\r\n                if (!isNil(value) && this._displayStr !== value) {\r\n                    if (this.searchStr !== value) {\r\n                        this.completer.search(value);\r\n                    }\r\n                    this.searchStr = value;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    @HostListener(\"keyup\", [\"$event\"])\r\n    public keyupHandler(event: any) {\r\n        if (event.keyCode === KEY_LF || event.keyCode === KEY_RT || event.keyCode === KEY_TAB) {\r\n            // do nothing\r\n            return;\r\n        }\r\n\r\n        if (event.keyCode === KEY_UP || event.keyCode === KEY_EN) {\r\n            event.preventDefault();\r\n        } else if (event.keyCode === KEY_DW) {\r\n            event.preventDefault();\r\n            this.completer.search(this.searchStr);\r\n        } else if (event.keyCode === KEY_ES) {\r\n            if (this.completer.isOpen) {\r\n                this.restoreSearchValue();\r\n                this.completer.clear();\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n            }\r\n        }\r\n    }\r\n\r\n    @HostListener(\"paste\", [\"$event\"])\r\n    public pasteHandler(event: any) {\r\n        this.completer.open();\r\n    }\r\n\r\n    @HostListener(\"keydown\", [\"$event\"])\r\n    public keydownHandler(event: any) {\r\n        const keyCode = event.keyCode || event.which;\r\n        if (keyCode === KEY_EN) {\r\n            if (this.completer.hasHighlighted()) {\r\n                event.preventDefault();\r\n            }\r\n            this.handleSelection();\r\n        } else if (keyCode === KEY_DW) {\r\n            event.preventDefault();\r\n            this.completer.open();\r\n            this.completer.nextRow();\r\n        } else if (keyCode === KEY_UP) {\r\n            event.preventDefault();\r\n            this.completer.prevRow();\r\n        } else if (keyCode === KEY_TAB) {\r\n            this.handleSelection();\r\n        } else if (keyCode === KEY_BK) {\r\n            this.completer.open();\r\n        } else if (keyCode === KEY_ES) {\r\n            // This is very specific to IE10/11 #272\r\n            // without this, IE clears the input text\r\n            event.preventDefault();\r\n            if (this.completer.isOpen) {\r\n                event.stopPropagation();\r\n            }\r\n        } else {\r\n            if (keyCode !== 0 && keyCode !== KEY_SH && keyCode !== KEY_CL &&\r\n                (keyCode <= KEY_F1 || keyCode >= KEY_F12) &&\r\n                !event.ctrlKey && !event.metaKey && !event.altKey\r\n            ) {\r\n                this.completer.open();\r\n            }\r\n        }\r\n    }\r\n\r\n    @HostListener(\"blur\", [\"$event\"])\r\n    public onBlur(event: any) {\r\n        // Check if we need to cancel Blur for IE\r\n        if (this.completer.isCancelBlur()) {\r\n            setTimeout(\r\n                () => {\r\n                    // get the focus back\r\n                    this.el.nativeElement.focus();\r\n                },\r\n                0\r\n            );\r\n            return;\r\n        }\r\n\r\n        if (this.completer.isOpen) {\r\n            this.blurTimer = timer(200).pipe(take(1)).subscribe(() => this.doBlur());\r\n        }\r\n    }\r\n\r\n    @HostListener(\"focus\", [])\r\n    public onfocus() {\r\n        if (this.blurTimer) {\r\n            this.blurTimer.unsubscribe();\r\n            this.blurTimer = null;\r\n        }\r\n\r\n        if (this.selectOnFocus) {\r\n            this.el.nativeElement.select();\r\n        }\r\n\r\n        if (this.openOnFocus) {\r\n            this.completer.open();\r\n        }\r\n    }\r\n\r\n    @HostListener(\"click\", [\"$event\"])\r\n    public onClick(event: any) {\r\n        if (this.selectOnClick) {\r\n            this.el.nativeElement.select();\r\n        }\r\n\r\n        if (this.openOnClick) {\r\n            if (this.completer.isOpen) {\r\n                this.completer.clear();\r\n            } else {\r\n                this.completer.open();\r\n            }\r\n        }\r\n    }\r\n\r\n    public get searchStr() {\r\n        return this._searchStr;\r\n    }\r\n\r\n    public set searchStr(term: string) {\r\n        this._searchStr = term;\r\n        this._displayStr = term;\r\n    }\r\n\r\n    private handleSelection() {\r\n        if (this.completer.hasHighlighted()) {\r\n            this._searchStr = \"\";\r\n            this.completer.selectCurrent();\r\n        } else if (this.overrideSuggested) {\r\n            this.completer.onSelected({ title: this.searchStr, originalObject: null });\r\n        } else {\r\n            if (this.clearUnselected && !this.completer.hasSelected) {\r\n                this.searchStr = \"\";\r\n                this.ngModelChange.emit(this.searchStr);\r\n            }\r\n            this.completer.clear();\r\n        }\r\n    }\r\n\r\n    private restoreSearchValue() {\r\n        if (this.fillHighlighted) {\r\n            if (this._displayStr != this.searchStr) {\r\n                this._displayStr = this.searchStr;\r\n                this.ngModelChange.emit(this.searchStr);\r\n            }\r\n        }\r\n    }\r\n\r\n    private doBlur() {\r\n        if (this.blurTimer) {\r\n            this.blurTimer.unsubscribe();\r\n            this.blurTimer = null;\r\n        }\r\n\r\n        if (this.overrideSuggested) {\r\n            this.completer.onSelected({ title: this.searchStr, originalObject: null });\r\n        } else {\r\n            if (this.clearUnselected && !this.completer.hasSelected) {\r\n                this.searchStr = \"\";\r\n                this.ngModelChange.emit(this.searchStr);\r\n            } else {\r\n                this.restoreSearchValue();\r\n            }\r\n        }\r\n\r\n        this.completer.clear();\r\n    }\r\n}\r\n","import {\r\n    ChangeDetectorRef,\r\n    Directive,\r\n    EmbeddedViewRef,\r\n    Host,\r\n    Input,\r\n    OnInit,\r\n    TemplateRef,\r\n    ViewContainerRef,\r\n    NgZone\r\n} from \"@angular/core\";\r\nimport { Subscription, timer } from \"rxjs\";\r\nimport { take } from \"rxjs/operators\";\r\nimport { CompleterItem } from \"../components/completer-item\";\r\nimport { CLEAR_TIMEOUT, isNil, MIN_SEARCH_LENGTH, PAUSE } from \"../globals\";\r\nimport { CompleterData } from \"../services/completer-data\";\r\nimport { CompleterList, CtrCompleter } from \"./ctr-completer\";\r\n\r\nexport class CtrListContext {\r\n    constructor(\r\n        public results: CompleterItem[] | null,\r\n        public searching: boolean,\r\n        public searchInitialized: boolean,\r\n        public isOpen: boolean\r\n    ) { }\r\n}\r\n\r\n@Directive({\r\n    selector: \"[ctrList]\",\r\n})\r\nexport class CtrList implements OnInit, CompleterList {\r\n    @Input() public ctrListMinSearchLength = MIN_SEARCH_LENGTH;\r\n    @Input() public ctrListPause = PAUSE;\r\n    @Input() public ctrListAutoMatch = false;\r\n    @Input() public ctrListAutoHighlight = false;\r\n    @Input() public ctrListDisplaySearching = true;\r\n\r\n    private _dataService: CompleterData | null = null;\r\n    // private results: CompleterItem[] = [];\r\n    private term: string | null = null;\r\n    // private searching = false;\r\n    private searchTimer: Subscription | null = null;\r\n    private clearTimer: Subscription | null = null;\r\n    private ctx = new CtrListContext([], false, false, false);\r\n    private _initialValue: any = null;\r\n    private viewRef: EmbeddedViewRef<CtrListContext> | null = null;\r\n\r\n    constructor(\r\n        @Host() private completer: CtrCompleter,\r\n        private templateRef: TemplateRef<CtrListContext>,\r\n        private viewContainer: ViewContainerRef,\r\n        private cd: ChangeDetectorRef,\r\n        private zone: NgZone) { }\r\n\r\n    public ngOnInit() {\r\n        this.completer.registerList(this);\r\n        this.viewRef = this.viewContainer.createEmbeddedView(\r\n            this.templateRef,\r\n            new CtrListContext([], false, false, false)\r\n        );\r\n    }\r\n\r\n    @Input(\"ctrList\")\r\n    public set dataService(newService: CompleterData) {\r\n        this._dataService = newService;\r\n        this.dataServiceSubscribe();\r\n    }\r\n\r\n    @Input(\"ctrListInitialValue\")\r\n    public set initialValue(value: any) {\r\n        if (this._dataService && typeof this._dataService.convertToItem === \"function\") {\r\n            this.zone.run(() => {\r\n                const initialItem = this._dataService && this._dataService.convertToItem!(value);\r\n                if (initialItem) {\r\n                    this.completer.onSelected(initialItem, false);\r\n                }\r\n            });\r\n        } else if (!this._dataService) {\r\n            this._initialValue = value;\r\n        }\r\n    }\r\n\r\n    public search(term: string) {\r\n        if (!isNil(term) && term.length >= this.ctrListMinSearchLength && this.term !== term) {\r\n            if (this.searchTimer) {\r\n                this.searchTimer.unsubscribe();\r\n                this.searchTimer = null;\r\n            }\r\n            if (!this.ctx.searching) {\r\n                if (this.ctrListDisplaySearching) {\r\n                    this.ctx.results = [];\r\n                }\r\n                this.ctx.searching = true;\r\n                this.ctx.searchInitialized = true;\r\n                this.refreshTemplate();\r\n            }\r\n            if (this.clearTimer) {\r\n                this.clearTimer.unsubscribe();\r\n            }\r\n            this.searchTimer = timer(this.ctrListPause).pipe(take(1)).subscribe(() => {\r\n                this.searchTimerComplete(term);\r\n            });\r\n        } else if (!isNil(term) && term.length < this.ctrListMinSearchLength) {\r\n            this.clear();\r\n            this.term = \"\";\r\n        }\r\n    }\r\n\r\n    public clear() {\r\n        if (this.searchTimer) {\r\n            this.searchTimer.unsubscribe();\r\n        }\r\n        this.clearTimer = timer(CLEAR_TIMEOUT).pipe(take(1)).subscribe(() => {\r\n            this._clear();\r\n        });\r\n    }\r\n\r\n    public open() {\r\n        if (!this.ctx.searchInitialized) {\r\n            this.search(\"\");\r\n        }\r\n        this.refreshTemplate();\r\n    }\r\n\r\n    public isOpen(open: boolean) {\r\n        this.ctx.isOpen = open;\r\n    }\r\n\r\n    private _clear() {\r\n        if (this.searchTimer) {\r\n            this.searchTimer.unsubscribe();\r\n            this.searchTimer = null;\r\n        }\r\n        if (this.dataService) {\r\n            this.dataService.cancel();\r\n        }\r\n\r\n        this.viewContainer.clear();\r\n        this.viewRef = null;\r\n    }\r\n\r\n    private searchTimerComplete(term: string) {\r\n        // Begin the search\r\n        if (isNil(term) || term.length < this.ctrListMinSearchLength) {\r\n            this.ctx.searching = false;\r\n            return;\r\n        }\r\n        this.term = term;\r\n\r\n        if (this._dataService) {\r\n            this._dataService.search(term);\r\n        }\r\n    }\r\n\r\n    private refreshTemplate() {\r\n        // create the template if it doesn't exist\r\n        if (!this.viewRef) {\r\n            this.viewRef = this.viewContainer.createEmbeddedView(\r\n                this.templateRef,\r\n                this.ctx\r\n            );\r\n        } else if (!this.viewRef.destroyed) {\r\n            // refresh the template\r\n            this.viewRef!.context.isOpen = this.ctx.isOpen;\r\n            this.viewRef!.context.results = this.ctx.results;\r\n            this.viewRef!.context.searching = this.ctx.searching;\r\n            this.viewRef!.context.searchInitialized = this.ctx.searchInitialized;\r\n            this.viewRef.detectChanges();\r\n        }\r\n        this.cd.markForCheck();\r\n    }\r\n\r\n    private getBestMatchIndex() {\r\n        if (!this.ctx.results || !this.term) {\r\n            return null;\r\n        }\r\n\r\n        // First try to find the exact term\r\n        let bestMatch = this.ctx.results.findIndex(\r\n            (item) => item.title.toLowerCase() === this.term!.toLocaleLowerCase()\r\n        );\r\n        // If not try to find the first item that starts with the term\r\n        if (bestMatch < 0) {\r\n            bestMatch = this.ctx.results.findIndex(\r\n                (item) => item.title.toLowerCase().startsWith(this.term!.toLocaleLowerCase())\r\n            );\r\n        }\r\n        // If not try to find the first item that includes the term\r\n        if (bestMatch < 0) {\r\n            bestMatch = this.ctx.results.findIndex(\r\n                (item) => item.title.toLowerCase().includes(this.term!.toLocaleLowerCase())\r\n            );\r\n        }\r\n\r\n        return bestMatch < 0 ? null : bestMatch;\r\n    }\r\n\r\n    private dataServiceSubscribe() {\r\n        if (this._dataService) {\r\n            this._dataService\r\n                .subscribe((results) => {\r\n                    this.ctx.searchInitialized = true;\r\n                    this.ctx.searching = false;\r\n                    this.ctx.results = results;\r\n\r\n                    if (\r\n                        this.ctrListAutoMatch && results &&\r\n                        results.length === 1 && results[0].title &&\r\n                        !isNil(this.term) &&\r\n                        results[0].title.toLocaleLowerCase() === this.term!.toLocaleLowerCase()\r\n                    ) {\r\n                        // Do automatch\r\n                        this.completer.onSelected(results[0]);\r\n                        return;\r\n                    }\r\n\r\n                    this.refreshTemplate();\r\n\r\n                    if (this.ctrListAutoHighlight) {\r\n                        this.completer.autoHighlightIndex = this.getBestMatchIndex();\r\n                    }\r\n                },\r\n                    (error: any) => {\r\n                        console.error(error);\r\n                        console.error(\"Unexpected error in dataService: errors should be handled by the dataService Observable\");\r\n                        return [];\r\n                    }\r\n                );\r\n\r\n            if (this._dataService.dataSourceChange) {\r\n                this._dataService.dataSourceChange.subscribe(() => {\r\n                    this.term = null;\r\n                    this.ctx.searchInitialized = false;\r\n                    this.ctx.searching = false;\r\n                    this.ctx.results = [];\r\n                    this.refreshTemplate();\r\n                    this.completer.onDataSourceChange();\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n","import { Directive, ElementRef, Host, HostListener, Input, Renderer2, OnDestroy } from \"@angular/core\";\r\n\r\nimport { CompleterItem } from \"../components/completer-item\";\r\nimport { CtrDropdown, CtrRowElement, CtrRowItem } from \"./ctr-dropdown\";\r\n\r\n@Directive({\r\n    selector: \"[ctrRow]\",\r\n})\r\nexport class CtrRow implements CtrRowElement, OnDestroy {\r\n\r\n    private selected = false;\r\n    private _rowIndex: number = 0;\r\n    private _item: CompleterItem | null = null;\r\n\r\n    constructor(private el: ElementRef, private renderer: Renderer2, @Host() private dropdown: CtrDropdown) { }\r\n\r\n    public ngOnDestroy() {\r\n        if (this._rowIndex) {\r\n            this.dropdown.unregisterRow(this._rowIndex);\r\n        }\r\n    }\r\n\r\n    @Input()\r\n    set ctrRow(index: number) {\r\n        this._rowIndex = index;\r\n        this.dropdown.registerRow(new CtrRowItem(this, this._rowIndex));\r\n    }\r\n\r\n    @Input()\r\n    set dataItem(item: CompleterItem) {\r\n        this._item = item;\r\n    }\r\n\r\n    @HostListener(\"click\", [\"$event\"]) public onClick(event: any) {\r\n        this.dropdown.onSelected(this._item);\r\n    }\r\n\r\n    @HostListener(\"mouseenter\", [\"$event\"]) public onMouseEnter(event: any) {\r\n        this.dropdown.highlightRow(this._rowIndex);\r\n    }\r\n\r\n    @HostListener(\"mousedown\", [\"$event\"]) public onMouseDown(event: any) {\r\n        this.dropdown.rowMouseDown();\r\n    }\r\n\r\n    public setHighlighted(selected: boolean) {\r\n        this.selected = selected;\r\n        if (this.selected) {\r\n          this.renderer.addClass(this.el.nativeElement, \"completer-selected-row\");\r\n        } else {\r\n          this.renderer.removeClass(this.el.nativeElement, \"completer-selected-row\");\r\n        }\r\n    }\r\n\r\n    public getNativeElement() {\r\n        return this.el.nativeElement;\r\n    }\r\n\r\n    public getDataItem() {\r\n        return this._item;\r\n    }\r\n}\r\n","\"use strict\";\r\nimport { Component, Input, OnInit } from \"@angular/core\";\r\n\r\nexport interface MatchPart {\r\n    isMatch: boolean;\r\n    text: string;\r\n}\r\n\r\n@Component({\r\n    selector: \"completer-list-item\",\r\n    template: `<span class=\"completer-list-item-holder\" [ngClass]= \"{'completer-title': type === 'title', 'completer-description': type === 'description'}\" >\r\n        <span class=\"completer-list-item\" *ngFor=\"let part of parts\" [ngClass]= \"part.isMatch ? matchClass : null\">{{part.text}}</span>\r\n    </span>`\r\n})\r\nexport class CompleterListItemCmp implements OnInit {\r\n    @Input()\r\n    public text: string = \"\";\r\n    @Input()\r\n    public searchStr: string = \"\";\r\n    @Input()\r\n    public matchClass: string = \"\";\r\n    @Input()\r\n    public type: string = \"\";\r\n\r\n    public parts: MatchPart[] = [];\r\n    public ngOnInit() {\r\n        if (!this.searchStr) {\r\n            this.parts.push({ isMatch: false, text: this.text });\r\n            return;\r\n        }\r\n        const matchStr = this.text.toLowerCase();\r\n        let matchPos = matchStr.indexOf(this.searchStr.toLowerCase());\r\n        let startIndex = 0;\r\n        while (matchPos >= 0) {\r\n            const matchText = this.text.slice(matchPos, matchPos + this.searchStr.length);\r\n            if (matchPos === 0) {\r\n                this.parts.push({ isMatch: true, text: matchText });\r\n                startIndex += this.searchStr.length;\r\n            } else if (matchPos > 0) {\r\n                const matchPart = this.text.slice(startIndex, matchPos);\r\n                this.parts.push({ isMatch: false, text: matchPart });\r\n                this.parts.push({ isMatch: true, text: matchText });\r\n                startIndex += this.searchStr.length + matchPart.length;\r\n            }\r\n            matchPos = matchStr.indexOf(this.searchStr.toLowerCase(), startIndex);\r\n        }\r\n        if (startIndex < this.text.length) {\r\n            this.parts.push({ isMatch: false, text: this.text.slice(startIndex, this.text.length) });\r\n        }\r\n    }\r\n}","\"use strict\";\r\nimport { AfterViewChecked, ChangeDetectorRef, Component, Input, Output, EventEmitter, OnInit, ViewChild, forwardRef, AfterViewInit, ElementRef } from \"@angular/core\";\r\nimport { ControlValueAccessor, FormControl, NG_VALUE_ACCESSOR } from \"@angular/forms\";\r\n\r\nimport { CtrCompleter } from \"../directives/ctr-completer\";\r\nimport { CompleterData } from \"../services/completer-data\";\r\nimport { CompleterService } from \"../services/completer-service\";\r\nimport { CompleterItem } from \"./completer-item\";\r\nimport { MAX_CHARS, MIN_SEARCH_LENGTH, PAUSE, TEXT_SEARCHING, TEXT_NO_RESULTS, isNil } from \"../globals\";\r\n\r\n\r\nconst noop = () => {\r\n    return;\r\n};\r\n\r\nconst COMPLETER_CONTROL_VALUE_ACCESSOR = {\r\n    multi: true,\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => CompleterCmp),\r\n};\r\n\r\n\r\n@Component({\r\n    selector: \"ng2-completer\",\r\n    template: `\r\n        <div class=\"completer-holder\" ctrCompleter>\r\n            <input #ctrInput [attr.id]=\"inputId.length > 0 ? inputId : null\" type=\"search\"\r\n                class=\"completer-input\" ctrInput [ngClass]=\"inputClass\"\r\n                [(ngModel)]=\"searchStr\" (ngModelChange)=\"onChange($event)\"\r\n                [attr.name]=\"inputName\" [placeholder]=\"placeholder\"\r\n                [attr.maxlength]=\"maxChars\" [tabindex]=\"fieldTabindex\" [disabled]=\"disableInput\"\r\n                [clearSelected]=\"clearSelected\" [clearUnselected]=\"clearUnselected\"\r\n                [overrideSuggested]=\"overrideSuggested\" [openOnFocus]=\"openOnFocus\" [fillHighlighted]=\"fillHighlighted\"\r\n                [openOnClick]=\"openOnClick\" [selectOnClick]=\"selectOnClick\" [selectOnFocus]=\"selectOnFocus\"\r\n                (blur)=\"onBlur()\" (focus)=\"onFocus()\" (keyup)=\"onKeyup($event)\"\r\n                (keydown)=\"onKeydown($event)\" (click)=\"onClick($event)\"\r\n                autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" />\r\n\r\n            <div class=\"completer-dropdown-holder\"\r\n                *ctrList=\"dataService;\r\n                    minSearchLength: minSearchLength;\r\n                    pause: pause;\r\n                    autoMatch: autoMatch;\r\n                    initialValue: initialValue;\r\n                    autoHighlight: autoHighlight;\r\n                    displaySearching: displaySearching;\r\n                    let items = results;\r\n                    let searchActive = searching;\r\n                    let isInitialized = searchInitialized;\r\n                    let isOpen = isOpen;\">\r\n                <div class=\"completer-dropdown\" ctrDropdown\r\n                    *ngIf=\"isInitialized && isOpen && (( items?.length > 0|| (displayNoResults && !searchActive)) || (searchActive && displaySearching))\">\r\n                    <div *ngIf=\"searchActive && displaySearching\" class=\"completer-searching\">{{ _textSearching }}</div>\r\n                    <div *ngIf=\"!searchActive && (!items || items?.length === 0)\"\r\n                    class=\"completer-no-results\">{{ _textNoResults }}</div>\r\n                    <div class=\"completer-row-wrapper\" *ngFor=\"let item of items; let rowIndex=index\">\r\n                        <div class=\"completer-row\" [ctrRow]=\"rowIndex\" [dataItem]=\"item\">\r\n                            <div *ngIf=\"item.image || item.image === ''\" class=\"completer-image-holder\">\r\n                                <img *ngIf=\"item.image != ''\" src=\"{{item.image}}\" class=\"completer-image\" />\r\n                                <div *ngIf=\"item.image === ''\" class=\"completer-image-default\"></div>\r\n                            </div>\r\n                            <div class=\"completer-item-text\"\r\n                            [ngClass]=\"{'completer-item-text-image': item.image || item.image === '' }\">\r\n                                <completer-list-item\r\n                                class=\"completer-title\" [text]=\"item.title\" [matchClass]=\"matchClass\"\r\n                                [searchStr]=\"searchStr\" [type]=\"'title'\"></completer-list-item>\r\n                                <completer-list-item *ngIf=\"item.description && item.description != ''\"\r\n                                class=\"completer-description\" [text]=\"item.description\"\r\n                                    [matchClass]=\"matchClass\" [searchStr]=\"searchStr\" [type]=\"'description'\">\r\n                                </completer-list-item>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    styles: [`\r\n    .completer-dropdown {\r\n        border-color: #ececec;\r\n        border-width: 1px;\r\n        border-style: solid;\r\n        border-radius: 2px;\r\n        width: 250px;\r\n        padding: 6px;\r\n        cursor: pointer;\r\n        z-index: 9999;\r\n        position: absolute;\r\n        margin-top: -6px;\r\n        background-color: #ffffff;\r\n    }\r\n\r\n    .completer-row {\r\n        padding: 5px;\r\n        color: #000000;\r\n        margin-bottom: 4px;\r\n        clear: both;\r\n        display: inline-block;\r\n        width: 103%;\r\n    }\r\n\r\n    .completer-selected-row {\r\n        background-color: lightblue;\r\n        color: #ffffff;\r\n    }\r\n\r\n    .completer-description {\r\n        font-size: 14px;\r\n    }\r\n\r\n    .completer-image-default {\r\n        width: 16px;\r\n        height: 16px;\r\n        background-image: url(\"demo/res/img/default.png\");\r\n    }\r\n\r\n    .completer-image-holder {\r\n        float: left;\r\n        width: 10%;\r\n    }\r\n    .completer-item-text-image {\r\n        float: right;\r\n        width: 90%;\r\n    }\r\n    `],\r\n    providers: [COMPLETER_CONTROL_VALUE_ACCESSOR]\r\n})\r\nexport class CompleterCmp implements OnInit, ControlValueAccessor, AfterViewChecked, AfterViewInit {\r\n    @Input() public dataService: CompleterData | undefined;\r\n    @Input() public inputName = \"\";\r\n    @Input() public inputId: string = \"\";\r\n    @Input() public pause = PAUSE;\r\n    @Input() public minSearchLength = MIN_SEARCH_LENGTH;\r\n    @Input() public maxChars = MAX_CHARS;\r\n    @Input() public overrideSuggested = false;\r\n    @Input() public clearSelected = false;\r\n    @Input() public clearUnselected = false;\r\n    @Input() public fillHighlighted = true;\r\n    @Input() public placeholder = \"\";\r\n    @Input() public matchClass: string | undefined;\r\n    @Input() public fieldTabindex: number | undefined;\r\n    @Input() public autoMatch = false;\r\n    @Input() public disableInput = false;\r\n    @Input() public inputClass: string | undefined;\r\n    @Input() public autofocus = false;\r\n    @Input() public openOnFocus = false;\r\n    @Input() public openOnClick = false;\r\n    @Input() public selectOnClick = false;\r\n    @Input() public selectOnFocus = false;\r\n    @Input() public initialValue: any;\r\n    @Input() public autoHighlight = false;\r\n\r\n    @Output() public selected = new EventEmitter<CompleterItem>();\r\n    @Output() public highlighted = new EventEmitter<CompleterItem>();\r\n    @Output(\"blur\") public blurEvent = new EventEmitter<void>();\r\n    @Output() public click = new EventEmitter<void>();\r\n    @Output(\"focus\") public focusEvent = new EventEmitter<void>();\r\n    @Output() public opened = new EventEmitter<boolean>();\r\n    @Output() public keyup: EventEmitter<any> = new EventEmitter();\r\n    @Output() public keydown: EventEmitter<any> = new EventEmitter();\r\n\r\n    @ViewChild(CtrCompleter, { static: false }) public completer: CtrCompleter | undefined;\r\n    @ViewChild(\"ctrInput\", { static: false }) public ctrInput: ElementRef | undefined;\r\n\r\n    public control = new FormControl(\"\");\r\n    public displaySearching = true;\r\n    public displayNoResults = true;\r\n    public _textNoResults = TEXT_NO_RESULTS;\r\n    public _textSearching = TEXT_SEARCHING;\r\n\r\n    private _onTouchedCallback: () => void = noop;\r\n    private _onChangeCallback: (_: any) => void = noop;\r\n    private _focus: boolean = false;\r\n    private _open: boolean = false;\r\n    private _searchStr = \"\";\r\n\r\n    constructor(private completerService: CompleterService, private cdr: ChangeDetectorRef) { }\r\n\r\n    public get value(): any { return this.searchStr; };\r\n\r\n    public set value(v: any) {\r\n        if (v !== this.searchStr) {\r\n            this.searchStr = v;\r\n        }\r\n        // Propagate the change in any case\r\n        this._onChangeCallback(v);\r\n    }\r\n\r\n    public get searchStr() {\r\n        return this._searchStr;\r\n    }\r\n\r\n    public set searchStr(value: string) {\r\n        if (typeof value === \"string\" || isNil(value)) {\r\n            this._searchStr = value;\r\n        } else {\r\n            this._searchStr = JSON.stringify(value);\r\n        }\r\n    }\r\n\r\n    public ngAfterViewInit() {\r\n        if (this.autofocus) {\r\n            this._focus = true;\r\n        }\r\n    }\r\n\r\n    public ngAfterViewChecked(): void {\r\n        if (this._focus) {\r\n            setTimeout(\r\n                () => {\r\n                    if (!!this.ctrInput) {\r\n                        this.ctrInput.nativeElement.focus();\r\n                        this._focus = false;\r\n                    }\r\n                },\r\n                0\r\n            );\r\n        }\r\n    }\r\n\r\n    public onTouched() {\r\n        this._onTouchedCallback();\r\n    }\r\n\r\n    public writeValue(value: any) {\r\n        this.searchStr = value;\r\n    }\r\n\r\n    public registerOnChange(fn: any) {\r\n        this._onChangeCallback = fn;\r\n    }\r\n\r\n    public registerOnTouched(fn: any) {\r\n        this._onTouchedCallback = fn;\r\n    }\r\n\r\n    public setDisabledState(isDisabled: boolean): void {\r\n        this.disableInput = isDisabled;\r\n    }\r\n\r\n    @Input()\r\n    public set datasource(source: CompleterData | string | any[]) {\r\n        if (source) {\r\n            if (source instanceof Array) {\r\n                this.dataService = this.completerService.local(source);\r\n            } else if (typeof (source) === \"string\") {\r\n                this.dataService = this.completerService.remote(source);\r\n            } else {\r\n                this.dataService = source as CompleterData;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Input()\r\n    public set textNoResults(text: string) {\r\n        if (this._textNoResults !== text) {\r\n            this._textNoResults = text;\r\n            this.displayNoResults = !!this._textNoResults && this._textNoResults !== \"false\";\r\n        }\r\n    }\r\n\r\n    @Input()\r\n    public set textSearching(text: string) {\r\n        if (this._textSearching !== text) {\r\n            this._textSearching = text;\r\n            this.displaySearching = !!this._textSearching && this._textSearching !== \"false\";\r\n        }\r\n    }\r\n\r\n    public ngOnInit() {\r\n\r\n        if (!this.completer) {\r\n            return;\r\n        }\r\n\r\n        this.completer.selected.subscribe((item: CompleterItem) => {\r\n            this.selected.emit(item);\r\n        });\r\n        this.completer.highlighted.subscribe((item: CompleterItem) => {\r\n            this.highlighted.emit(item);\r\n        });\r\n        this.completer.opened.subscribe((isOpen: boolean) => {\r\n            this._open = isOpen;\r\n            this.opened.emit(isOpen);\r\n        });\r\n    }\r\n\r\n    public onBlur() {\r\n        this.blurEvent.emit();\r\n        this.onTouched();\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    public onFocus() {\r\n        this.focusEvent.emit();\r\n        this.onTouched();\r\n    }\r\n\r\n    public onClick(event: any) {\r\n        this.click.emit(event);\r\n        this.onTouched();\r\n    }\r\n\r\n    public onKeyup(event: any) {\r\n        this.keyup.emit(event);\r\n        event.stopPropagation();\r\n    }\r\n\r\n    public onKeydown(event: any) {\r\n        this.keydown.emit(event);\r\n        event.stopPropagation();\r\n    }\r\n\r\n    public onChange(value: string) {\r\n        this.value = value;\r\n    }\r\n\r\n    public open() {\r\n        if (!this.completer) {\r\n            return;\r\n        }\r\n\r\n        this.completer.open();\r\n    }\r\n\r\n    public close() {\r\n        if (!this.completer) {\r\n            return;\r\n        }\r\n\r\n        this.completer.clear();\r\n    }\r\n\r\n    public focus(): void {\r\n        if (this.ctrInput) {\r\n            this.ctrInput.nativeElement.focus();\r\n        } else {\r\n            this._focus = true;\r\n        }\r\n    }\r\n\r\n    public blur(): void {\r\n        if (this.ctrInput) {\r\n            this.ctrInput.nativeElement.blur();\r\n        } else {\r\n            this._focus = false;\r\n        }\r\n    }\r\n\r\n    public isOpen() {\r\n        return this._open;\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders } from \"@angular/core\";\r\n\r\nimport { CompleterCmp } from \"../components/completer-cmp\";\r\nimport { CompleterListItemCmp } from \"../components/completer-list-item-cmp\";\r\nimport { LocalDataFactory } from \"../services/local-data-factory\";\r\nimport { RemoteDataFactory } from \"../services/remote-data-factory\";\r\nimport { CompleterService } from \"../services/completer-service\";\r\n\r\nimport { CtrCompleter } from \"../directives/ctr-completer\";\r\nimport { CtrDropdown } from \"../directives/ctr-dropdown\";\r\nimport { CtrInput } from \"../directives/ctr-input\";\r\nimport { CtrList } from \"../directives/ctr-list\";\r\nimport { CtrRow } from \"../directives/ctr-row\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { FormsModule } from \"@angular/forms\";\r\n\r\nconst providers = [\r\n    CompleterService,\r\n    LocalDataFactory,\r\n    RemoteDataFactory\r\n];\r\n\r\n@NgModule({\r\n    declarations: [\r\n        CompleterListItemCmp,\r\n        CtrCompleter,\r\n        CtrDropdown,\r\n        CtrInput,\r\n        CtrList,\r\n        CtrRow,\r\n        CompleterCmp\r\n    ],\r\n    exports: [\r\n        CompleterListItemCmp,\r\n        CtrCompleter,\r\n        CtrDropdown,\r\n        CtrInput,\r\n        CtrList,\r\n        CtrRow,\r\n        CompleterCmp\r\n    ],\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule\r\n    ],\r\n    providers\r\n})\r\nexport class Ng2CompleterModule {\r\n\r\n    public static forRoot(): ModuleWithProviders {\r\n        return {\r\n            ngModule: Ng2CompleterModule,\r\n            providers\r\n        };\r\n    }\r\n\r\n    public static forChild(): ModuleWithProviders {\r\n        return {\r\n            ngModule: Ng2CompleterModule,\r\n            providers\r\n        };\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}